<% require 'time' %>
   <div class="history">
    <%= link_to "Previous page", { :page => @upcoming_events_pages.current.previous } if @upcoming_events_pages.current.previous %>
    <%= pagination_links @upcoming_events_pages %>
    <%= link_to "Next page", { :page => @upcoming_events_pages.current.next } if @upcoming_events_pages.current.next %> 
      <table>
         <tr>
            <th>Name</th><th>Date</th>
         </tr>

         <% for event in @upcoming_events %>
          <tr id="event<%=h event.event_id %>" class="<%= event.pending?(@group) ? 'pending_event' : 'active_event' %> clickable" onclick="window.location = '<%= url_for :controller => "events", :action => "show", :id => event.event_id %>'">
            <td>
               <%=link_to event.title, :controller => "events", :action =>
               "show", :id => event.event_id %>
            </td>
            <td class="time_string">
              <%=h event.startTime.to_formatted_s(:short_detailed_format) %>
              <% if event.endTime %>
              - <%=h event.endTime.to_formatted_s(:short_detailed_format) %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </table>
    <%= link_to "Previous page", { :page => @upcoming_events_pages.current.previous } if @upcoming_events_pages.current.previous %>
    <%= pagination_links @upcoming_events_pages %>
    <%= link_to "Next page", { :page => @upcoming_events_pages.current.next } if @upcoming_events_pages.current.next %> 
   </div>
